{"file":"/sarabc/troll","data":"# This function looks at the words in your\n# answer and picks the troll's response.\nreplyto = (a) ->\n  for word in a.toLowerCase().split /\\W+/\n    switch word\n      when \"secret\"\n        return \"Right.\"\n      when \"money\"\n        return \"I dont want your money!\"\n      when \"advice\"\n        return \"My advice: think again.\"\n      when \"who\"\n        return \"I am the Bridge Troll!\"\n      when \"troll\"\n        return \"The troll laughs at you.\"\n      when \"know\"\n        return \"I know the answer. Do you?\"\n  # If no words were recognized, a random\n  # canned response is picked.\n  return random [\n    \"That doesnt make sense.\"\n    \"Guess again!\"\n    \"That is not right!\"\n  ]\n\nriddle = ->\n  write \"\"\"\n    A troll blocks the bridge and asks:\n  \"\"\"\n  type \"\"\"\n      When you don't have me,\n      you want me,\n      but when you do have me,\n      you want to give me away.\n      What am I?\n    \"\"\"\n  while s isnt \"Right.\"\n    # Wait for an answer and reply to it.\n    await readstr defer a\n    s = replyto a\n    write s\n  do proceed\n\nproceed = ->\n  write \"\"\"\n    The troll steps aside, and you cross.\n    (what happens next?)\n  \"\"\"\n\n# start the game\ndo riddle\n","auth":true,"mtime":1447922444478,"mime":"text/x-pencilcode;charset=utf-8","meta":{"encoding":"utf8"}}